const e=require(`./chunk-350yNsax.cjs`);var t=e.t((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.Context=void 0;let t=require(`fs`),n=require(`os`);e.Context=class{constructor(){if(this.payload={},process.env.GITHUB_EVENT_PATH)if((0,t.existsSync)(process.env.GITHUB_EVENT_PATH))this.payload=JSON.parse((0,t.readFileSync)(process.env.GITHUB_EVENT_PATH,{encoding:`utf8`}));else{let e=process.env.GITHUB_EVENT_PATH;process.stdout.write(`GITHUB_EVENT_PATH ${e} does not exist${n.EOL}`)}this.eventName=process.env.GITHUB_EVENT_NAME,this.sha=process.env.GITHUB_SHA,this.ref=process.env.GITHUB_REF,this.workflow=process.env.GITHUB_WORKFLOW,this.action=process.env.GITHUB_ACTION,this.actor=process.env.GITHUB_ACTOR,this.job=process.env.GITHUB_JOB,this.runAttempt=parseInt(process.env.GITHUB_RUN_ATTEMPT,10),this.runNumber=parseInt(process.env.GITHUB_RUN_NUMBER,10),this.runId=parseInt(process.env.GITHUB_RUN_ID,10),this.apiUrl=process.env.GITHUB_API_URL??`https://api.github.com`,this.serverUrl=process.env.GITHUB_SERVER_URL??`https://github.com`,this.graphqlUrl=process.env.GITHUB_GRAPHQL_URL??`https://api.github.com/graphql`}get issue(){let e=this.payload;return Object.assign(Object.assign({},this.repo),{number:(e.issue||e.pull_request||e).number})}get repo(){if(process.env.GITHUB_REPOSITORY){let[e,t]=process.env.GITHUB_REPOSITORY.split(`/`);return{owner:e,repo:t}}if(this.payload.repository)return{owner:this.payload.repository.owner.login,repo:this.payload.repository.name};throw Error(`context.repo requires a GITHUB_REPOSITORY environment variable like 'owner/repo'`)}}})),n=e.t((e=>{var t=e&&e.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||(`get`in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),n=e&&e.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,`default`,{enumerable:!0,value:t})}):function(e,t){e.default=t}),r=e&&e.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var a=e(r),o=0;o<a.length;o++)a[o]!==`default`&&t(i,r,a[o]);return n(i,r),i}})(),i=e&&e.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(e,`__esModule`,{value:!0}),e.getAuthString=s,e.getProxyAgent=c,e.getProxyAgentDispatcher=l,e.getProxyFetch=u,e.getApiBaseUrl=d;let a=r(require(`@actions/http-client`)),o=require(`undici`);function s(e,t){if(!e&&!t.auth)throw Error(`Parameter token or opts.auth is required`);if(e&&t.auth)throw Error(`Parameters token and opts.auth may not both be specified`);return typeof t.auth==`string`?t.auth:`token ${e}`}function c(e){return new a.HttpClient().getAgent(e)}function l(e){return new a.HttpClient().getAgentDispatcher(e)}function u(e){let t=l(e);return(e,n)=>i(this,void 0,void 0,function*(){return(0,o.fetch)(e,Object.assign(Object.assign({},n),{dispatcher:t}))})}function d(){return process.env.GITHUB_API_URL||`https://api.github.com`}})),r=e.t(((e,t)=>{var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})},s=(e,t,o,s)=>{if(t&&typeof t==`object`||typeof t==`function`)for(let c of i(t))!a.call(e,c)&&c!==o&&n(e,c,{get:()=>t[c],enumerable:!(s=r(t,c))||s.enumerable});return e},c=e=>s(n({},`__esModule`,{value:!0}),e),l={};o(l,{Octokit:()=>x}),t.exports=c(l);var u=require(`universal-user-agent`),d=require(`before-after-hook`),f=require(`@octokit/request`),p=require(`@octokit/graphql`),m=require(`@octokit/auth-token`),h=`5.2.2`,g=()=>{},_=console.warn.bind(console),v=console.error.bind(console);function y(e={}){return typeof e.debug!=`function`&&(e.debug=g),typeof e.info!=`function`&&(e.info=g),typeof e.warn!=`function`&&(e.warn=_),typeof e.error!=`function`&&(e.error=v),e}var b=`octokit-core.js/${h} ${(0,u.getUserAgent)()}`,x=class{static{this.VERSION=h}static defaults(e){return class extends this{constructor(...t){let n=t[0]||{};if(typeof e==`function`){super(e(n));return}super(Object.assign({},e,n,n.userAgent&&e.userAgent?{userAgent:`${n.userAgent} ${e.userAgent}`}:null))}}}static{this.plugins=[]}static plugin(...e){let t=this.plugins;return class extends this{static{this.plugins=t.concat(e.filter(e=>!t.includes(e)))}}}constructor(e={}){let t=new d.Collection,n={baseUrl:f.request.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,`request`)}),mediaType:{previews:[],format:``}};if(n.headers[`user-agent`]=e.userAgent?`${e.userAgent} ${b}`:b,e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers[`time-zone`]=e.timeZone),this.request=f.request.defaults(n),this.graphql=(0,p.withCustomRequest)(this.request).defaults(n),this.log=y(e.log),this.hook=t,e.authStrategy){let{authStrategy:n,...r}=e,i=n(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:r},e.auth));t.wrap(`request`,i.hook),this.auth=i}else if(!e.auth)this.auth=async()=>({type:`unauthenticated`});else{let n=(0,m.createTokenAuth)(e.auth);t.wrap(`request`,n.hook),this.auth=n}let r=this.constructor;for(let t=0;t<r.plugins.length;++t)Object.assign(this,r.plugins[t](this,e))}}})),i=e.t((e=>{var i=e&&e.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||(`get`in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),a=e&&e.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,`default`,{enumerable:!0,value:t})}):function(e,t){e.default=t}),o=e&&e.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var r=e(t),o=0;o<r.length;o++)r[o]!==`default`&&i(n,t,r[o]);return a(n,t),n}})();Object.defineProperty(e,`__esModule`,{value:!0}),e.GitHub=e.defaults=e.context=void 0,e.getOctokitOptions=p;let s=o(t()),c=o(n()),l=r(),u=require(`@octokit/plugin-rest-endpoint-methods`),d=require(`@octokit/plugin-paginate-rest`);e.context=new s.Context;let f=c.getApiBaseUrl();e.defaults={baseUrl:f,request:{agent:c.getProxyAgent(f),fetch:c.getProxyFetch(f)}},e.GitHub=l.Octokit.plugin(u.restEndpointMethods,d.paginateRest).defaults(e.defaults);function p(e,t){let n=Object.assign({},t||{}),r=c.getAuthString(e,n);return r&&(n.auth=r),n}})),a=e.t((e=>{var n=e&&e.__createBinding||(Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||(`get`in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]})),r=e&&e.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,`default`,{enumerable:!0,value:t})}):function(e,t){e.default=t}),a=e&&e.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var a=e(t),o=0;o<a.length;o++)a[o]!==`default`&&n(i,t,a[o]);return r(i,t),i}})();Object.defineProperty(e,`__esModule`,{value:!0}),e.context=void 0,e.getOctokit=c;let o=a(t()),s=i();e.context=new o.Context;function c(e,t,...n){return new(s.GitHub.plugin(...n))((0,s.getOctokitOptions)(e,t))}})),o=e.n(a());async function s(e,t,n,r){let i=o.context,a=await c(e,t,n),{lucky:s,body:l}=r;s?a&&a.body!==l?await e.issues.updateComment({...i.repo,comment_id:a.id,body:l}):await e.issues.createComment({...i.repo,issue_number:t,body:l}):a&&await e.issues.deleteComment({...i.repo,comment_id:a.id})}async function c(e,t,n){let r=o.context,i=await e.issues.listComments({...r.repo,issue_number:t});for(let e of i.data)if(e.user?.login===n)return{id:e.id,body:e.body_text||``};return null}async function l(e){let t=o.context;return(await e.pulls.listCommits({...t.repo,pull_number:t.issue.number})).data.map(e=>e.sha)}async function u(e){return(await e.graphql(`
query {
  viewer {
    login
  }
}`)).viewer.login}Object.defineProperty(exports,`i`,{enumerable:!0,get:function(){return a}}),Object.defineProperty(exports,`n`,{enumerable:!0,get:function(){return u}}),Object.defineProperty(exports,`r`,{enumerable:!0,get:function(){return s}}),Object.defineProperty(exports,`t`,{enumerable:!0,get:function(){return l}});
//# sourceMappingURL=github-aGsDCXK6.cjs.map