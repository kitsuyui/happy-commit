/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/
var e=Object.prototype.toString,t=Array.isArray||function(t){return e.call(t)===`[object Array]`};function n(e){return typeof e==`function`}function r(e){return t(e)?`array`:typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,`\\$&`)}function a(e,t){return typeof e==`object`&&!!e&&t in e}function o(e,t){return e!=null&&typeof e!=`object`&&e.hasOwnProperty&&e.hasOwnProperty(t)}var s=RegExp.prototype.test;function c(e,t){return s.call(e,t)}var l=/\S/;function u(e){return!c(l,e)}var d={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#39;`,"/":`&#x2F;`,"`":`&#x60;`,"=":`&#x3D;`};function f(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return d[e]})}var p=/\s*/,m=/\s+/,h=/\s*=/,g=/\s*\}/,_=/#|\^|\/|>|\{|&|=|!/;function v(e,n){if(!e)return[];var r=!1,a=[],o=[],s=[],c=!1,l=!1,d=``,f=0;function v(){if(c&&!l)for(;s.length;)delete o[s.pop()];else s=[];c=!1,l=!1}var S,C,T;function E(e){if(typeof e==`string`&&(e=e.split(m,2)),!t(e)||e.length!==2)throw Error(`Invalid tags: `+e);S=RegExp(i(e[0])+`\\s*`),C=RegExp(`\\s*`+i(e[1])),T=RegExp(`\\s*`+i(`}`+e[1]))}E(n||w.tags);for(var D=new x(e),O,k,A,j,M,N;!D.eos();){if(O=D.pos,A=D.scanUntil(S),A)for(var P=0,F=A.length;P<F;++P)j=A.charAt(P),u(j)?(s.push(o.length),d+=j):(l=!0,r=!0,d+=` `),o.push([`text`,j,O,O+1]),O+=1,j===`
`&&(v(),d=``,f=0,r=!1);if(!D.scan(S))break;if(c=!0,k=D.scan(_)||`name`,D.scan(p),k===`=`?(A=D.scanUntil(h),D.scan(h),D.scanUntil(C)):k===`{`?(A=D.scanUntil(T),D.scan(g),D.scanUntil(C),k=`&`):A=D.scanUntil(C),!D.scan(C))throw Error(`Unclosed tag at `+D.pos);if(M=k==`>`?[k,A,O,D.pos,d,f,r]:[k,A,O,D.pos],f++,o.push(M),k===`#`||k===`^`)a.push(M);else if(k===`/`){if(N=a.pop(),!N)throw Error(`Unopened section "`+A+`" at `+O);if(N[1]!==A)throw Error(`Unclosed section "`+N[1]+`" at `+O)}else k===`name`||k===`{`||k===`&`?l=!0:k===`=`&&E(A)}if(v(),N=a.pop(),N)throw Error(`Unclosed section "`+N[1]+`" at `+D.pos);return b(y(o))}function y(e){for(var t=[],n,r,i=0,a=e.length;i<a;++i)n=e[i],n&&(n[0]===`text`&&r&&r[0]===`text`?(r[1]+=n[1],r[3]=n[3]):(t.push(n),r=n));return t}function b(e){for(var t=[],n=t,r=[],i,a,o=0,s=e.length;o<s;++o)switch(i=e[o],i[0]){case`#`:case`^`:n.push(i),r.push(i),n=i[4]=[];break;case`/`:a=r.pop(),a[5]=i[2],n=r.length>0?r[r.length-1][4]:t;break;default:n.push(i)}return t}function x(e){this.string=e,this.tail=e,this.pos=0}x.prototype.eos=function(){return this.tail===``},x.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return``;var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},x.prototype.scanUntil=function(e){var t=this.tail.search(e),n;switch(t){case-1:n=this.tail,this.tail=``;break;case 0:n=``;break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n};function S(e,t){this.view=e,this.cache={".":this.view},this.parent=t}S.prototype.push=function(e){return new S(e,this)},S.prototype.lookup=function(e){var t=this.cache,r;if(t.hasOwnProperty(e))r=t[e];else{for(var i=this,s,c,l,u=!1;i;){if(e.indexOf(`.`)>0)for(s=i.view,c=e.split(`.`),l=0;s!=null&&l<c.length;)l===c.length-1&&(u=a(s,c[l])||o(s,c[l])),s=s[c[l++]];else s=i.view[e],u=a(i.view,e);if(u){r=s;break}i=i.parent}t[e]=r}return n(r)&&(r=r.call(this.view)),r};function C(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}C.prototype.clearCache=function(){this.templateCache!==void 0&&this.templateCache.clear()},C.prototype.parse=function(e,t){var n=this.templateCache,r=e+`:`+(t||w.tags).join(`:`),i=n!==void 0,a=i?n.get(r):void 0;return a??(a=v(e,t),i&&n.set(r,a)),a},C.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),a=this.parse(e,i),o=t instanceof S?t:new S(t,void 0);return this.renderTokens(a,o,n,e,r)},C.prototype.renderTokens=function(e,t,n,r,i){for(var a=``,o,s,c,l=0,u=e.length;l<u;++l)c=void 0,o=e[l],s=o[0],s===`#`?c=this.renderSection(o,t,n,r,i):s===`^`?c=this.renderInverted(o,t,n,r,i):s===`>`?c=this.renderPartial(o,t,n,i):s===`&`?c=this.unescapedValue(o,t):s===`name`?c=this.escapedValue(o,t,i):s===`text`&&(c=this.rawValue(o)),c!==void 0&&(a+=c);return a},C.prototype.renderSection=function(e,r,i,a,o){var s=this,c=``,l=r.lookup(e[1]);function u(e){return s.render(e,r,i,o)}if(l){if(t(l))for(var d=0,f=l.length;d<f;++d)c+=this.renderTokens(e[4],r.push(l[d]),i,a,o);else if(typeof l==`object`||typeof l==`string`||typeof l==`number`)c+=this.renderTokens(e[4],r.push(l),i,a,o);else if(n(l)){if(typeof a!=`string`)throw Error(`Cannot use higher-order sections without the original template`);l=l.call(r.view,a.slice(e[3],e[5]),u),l!=null&&(c+=l)}else c+=this.renderTokens(e[4],r,i,a,o);return c}},C.prototype.renderInverted=function(e,n,r,i,a){var o=n.lookup(e[1]);if(!o||t(o)&&o.length===0)return this.renderTokens(e[4],n,r,i,a)},C.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,``),i=e.split(`
`),a=0;a<i.length;a++)i[a].length&&(a>0||!n)&&(i[a]=r+i[a]);return i.join(`
`)},C.prototype.renderPartial=function(e,t,r,i){if(r){var a=this.getConfigTags(i),o=n(r)?r(e[1]):r[e[1]];if(o!=null){var s=e[6],c=e[5],l=e[4],u=o;c==0&&l&&(u=this.indentPartial(o,l,s));var d=this.parse(u,a);return this.renderTokens(d,t,r,u,i)}}},C.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(n!=null)return n},C.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||w.escape,i=t.lookup(e[1]);if(i!=null)return typeof i==`number`&&r===w.escape?String(i):r(i)},C.prototype.rawValue=function(e){return e[1]},C.prototype.getConfigTags=function(e){if(t(e))return e;if(e&&typeof e==`object`)return e.tags},C.prototype.getConfigEscape=function(e){if(e&&typeof e==`object`&&!t(e))return e.escape};var w={name:`mustache.js`,version:`4.2.0`,tags:[`{{`,`}}`],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){T.templateCache=e},get templateCache(){return T.templateCache}},T=new C;w.clearCache=function(){return T.clearCache()},w.parse=function(e,t){return T.parse(e,t)},w.render=function(e,t,n,i){if(typeof e!=`string`)throw TypeError(`Invalid template! Template should be a "string" but "`+r(e)+`" was given as the first argument for mustache#render(template, view, partials)`);return T.render(e,t,n,i)},w.escape=f,w.Scanner=x,w.Context=S,w.Writer=C;export{w as t};
//# sourceMappingURL=mustache-BhZz4e-Z.mjs.map