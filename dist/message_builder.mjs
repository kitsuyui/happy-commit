import{t as e}from"./mustache-BhZz4e-Z.mjs";import"./ajv-QtvvyOqs.mjs";import{Rules as t}from"./rules.mjs";var n=class{rules;baseTemplate;constructor(e,t){this.rules=e,this.baseTemplate=t}prRules(){return this.rules.filter(e=>e.kind===`pr`)}commitRules(){return this.rules.filter(e=>e.kind===`commit`)}build(t){let{commitIds:n,prNum:r}=t,i=[],a=!1;for(let{rule:t,message:n}of this.prRules()){let o=r.toString().match(t);if(o){let t=e.render(n,{matched:o,prNum:r});i.push(t),a=!0}}for(let{rule:t,message:r}of this.commitRules())for(let o of n){let n=o.match(t);if(n){let t=e.render(r,{matched:n,commitId:o});i.push(t),a=!0}}let o=e.render(this.baseTemplate,{messages:i});return{lucky:a,body:o}}};const r={pr_reaches_contain_only_one_nonzero_digit:!0,pr_reaches_power_of_2:!0,pr_reaches_777:!0,commit_hits_777:!0,commit_hits_same_numbers:!0,commit_hits_123:!0,commit_hits_hexspeak:!0,commit_hits_666:!0};var i=class{builder;constructor(e,i={},a=[]){this.builder=new n([...a].concat(Object.entries(t).filter(([e])=>e in i?i[e]:r[e]).map(([,e])=>e)),e)}build(e){return this.builder.build(e)}};export{i as CustomMessageBuilder};
//# sourceMappingURL=message_builder.mjs.map